import {
  MotionValue,
  motion,
  useMotionValue,
  useSpring,
  useTransform,
} from "framer-motion";
import { useRef, useState } from "react";
import "./input.css";
// import "./output.css";
import React from "react";
import { Link, NavLink } from "react-router-dom";
import "react-tooltip/dist/react-tooltip.css";
import { Tooltip } from "react-tooltip";

function Dock() {
  const mouseX = useMotionValue(Infinity);

  return (
    <motion.div
      onMouseMove={(e) => mouseX.set(e.pageX)}
      onMouseLeave={() => mouseX.set(Infinity)}
      className="mx-auto flex h-16 items-end gap-2 rounded-full px-4 pb-3 dock-cont"
    >
      <AppIcon mouseX={mouseX}>
        <NavLink
          to={"/"}
          data-tooltip-id="footer-tooltip"
          data-tooltip-content="Home"
          data-tooltip-place="top"
        >
          <svg
            width="inherit"
            height="inherit"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M4.22266 13.7038C4.22266 12.4966 4.22266 11.8942 4.46932 11.379C4.71488 10.8651 5.17155 10.5137 6.08377 9.81328L10.7093 6.25862C11.3315 5.78053 11.6449 5.54028 12.0004 5.54028C12.356 5.54028 12.6682 5.77933 13.2915 6.25862L17.9171 9.81208C18.8293 10.5137 19.286 10.8639 19.5315 11.379C19.7782 11.893 19.7782 12.4966 19.7782 13.7026V19.6095C19.7782 20.7366 19.7782 21.2996 19.4527 21.6498C19.1271 22 18.6038 22 17.556 22H6.44488C5.3971 22 4.87377 22 4.54821 21.6498C4.22266 21.2996 4.22266 20.7366 4.22266 19.6095V13.7038Z"
              fill="#CBCBCB"
            />
            <path
              d="M2 11.7054C2 12.0233 2 12.1835 2.09333 12.2325C2.18667 12.2815 2.30444 12.1847 2.53778 11.9875L10.6356 5.21281C11.2911 4.6642 11.6189 4.39049 12 4.39049C12.3811 4.39049 12.7089 4.66539 13.3644 5.21281L21.4622 11.9875C21.6956 12.1835 21.8133 12.2815 21.9067 12.2325C22 12.1835 22 12.0233 22 11.7054V11.2165C22 10.6428 22 10.3559 21.8867 10.1073C21.7744 9.85872 21.5633 9.68183 21.1422 9.33042L13.3644 2.82233C12.7089 2.27371 12.3811 2 12 2C11.6189 2 11.2911 2.27491 10.6356 2.82233L2.85778 9.33042C2.43667 9.68183 2.22556 9.85872 2.11333 10.1073C2 10.3559 2 10.6428 2 11.2165V11.7054ZM12.5556 14.8285H11.4444C10.8551 14.8285 10.2898 15.0804 9.8731 15.5287C9.45635 15.977 9.22222 16.585 9.22222 17.219V21.8207C9.22222 21.9199 9.29667 22 9.38889 22H14.6111C14.6553 22 14.6977 21.9811 14.729 21.9475C14.7602 21.9139 14.7778 21.8683 14.7778 21.8207V17.219C14.7778 16.585 14.5437 15.977 14.1269 15.5287C13.7102 15.0804 13.1449 14.8285 12.5556 14.8285Z"
              fill="#7A7A7A"
            />
            <path
              d="M18.111 2.87598H16.9999C16.6931 2.87598 16.4443 3.14354 16.4443 3.4736V7.05933C16.4443 7.38938 16.6931 7.65695 16.9999 7.65695H18.111C18.4178 7.65695 18.6666 7.38938 18.6666 7.05933V3.4736C18.6666 3.14354 18.4178 2.87598 18.111 2.87598Z"
              fill="#7A7A7A"
            />
          </svg>
        </NavLink>
        <span className="pagetrack active"></span>
      </AppIcon>

      <AppIcon mouseX={mouseX}>
        <NavLink
          to={"/aboutme"}
          data-tooltip-id="footer-tooltip"
          data-tooltip-content="About Me"
          data-tooltip-place="top"
        >
          <svg
            width="inherit"
            height="inherit"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M12.1459 12.2919C14.4357 12.2919 16.2919 10.4357 16.2919 8.14594C16.2919 5.8562 14.4357 4 12.1459 4C9.8562 4 8 5.8562 8 8.14594C8 10.4357 9.8562 12.2919 12.1459 12.2919Z"
              fill="#CBCBCB"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M12.1049 13C7.84224 13 4.34617 15.8108 4.00237 19.3882C3.97217 19.7076 4.23467 19.9689 4.55524 19.9689H19.6546C19.7301 19.9709 19.8052 19.957 19.8751 19.9282C19.9449 19.8993 20.0079 19.8561 20.06 19.8014C20.1122 19.7467 20.1522 19.6816 20.1776 19.6104C20.203 19.5392 20.2131 19.4635 20.2074 19.3882C19.8636 15.8108 16.3675 13 12.1049 13Z"
              fill="#7A7A7A"
            />
          </svg>
        </NavLink>
        <span className="pagetrack active"></span>
      </AppIcon>
      <AppIcon mouseX={mouseX}>
        <NavLink
          to={"/projects"}
          data-tooltip-id="footer-tooltip"
          data-tooltip-content="Projects"
          data-tooltip-place="top"
        >
          <svg
            width="inherit"
            height="inherit"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M11.9999 0.75C10.1844 0.749592 8.41954 1.34803 6.97874 2.45256C5.53793 3.55709 4.50169 5.10602 4.03062 6.8593C3.55955 8.61258 3.67995 10.4723 4.37317 12.1502C5.06639 13.8281 6.2937 15.2305 7.8649 16.14C8.5509 16.538 8.9799 17.148 8.9989 17.763C9.00415 17.9277 9.06351 18.0861 9.1678 18.2138C9.27209 18.3414 9.41552 18.4311 9.5759 18.469C9.9279 18.5517 10.2859 18.6167 10.6499 18.664C10.9729 18.705 11.2499 18.446 11.2499 18.12V13.459C10.9341 13.4233 10.621 13.3662 10.3129 13.288C10.2175 13.2634 10.1279 13.2203 10.0491 13.1611C9.97037 13.1019 9.90406 13.0278 9.85396 12.943C9.80386 12.8582 9.77097 12.7643 9.75714 12.6668C9.74332 12.5692 9.74885 12.4699 9.7734 12.3745C9.79796 12.2791 9.84107 12.1895 9.90027 12.1107C9.95946 12.032 10.0336 11.9657 10.1184 11.9156C10.2032 11.8655 10.2971 11.8326 10.3946 11.8187C10.4922 11.8049 10.5915 11.8104 10.6869 11.835C11.5482 12.057 12.4516 12.057 13.3129 11.835C13.4093 11.8072 13.5102 11.7991 13.6098 11.811C13.7094 11.8229 13.8055 11.8547 13.8926 11.9045C13.9797 11.9542 14.0559 12.0209 14.1168 12.1007C14.1776 12.1804 14.2218 12.2715 14.2469 12.3686C14.2719 12.4657 14.2772 12.5669 14.2624 12.6661C14.2476 12.7653 14.2131 12.8605 14.1609 12.9461C14.1087 13.0317 14.0399 13.106 13.9584 13.1646C13.877 13.2231 13.7847 13.2648 13.6869 13.287C13.3788 13.3655 13.0658 13.423 12.7499 13.459V18.119C12.7487 18.1957 12.7639 18.2717 12.7944 18.3421C12.8249 18.4124 12.87 18.4755 12.9268 18.5271C12.9835 18.5786 13.0506 18.6175 13.1236 18.6411C13.1965 18.6647 13.2737 18.6725 13.3499 18.664C13.7139 18.6173 14.0719 18.5523 14.4239 18.469C14.5843 18.4311 14.7277 18.3414 14.832 18.2138C14.9363 18.0861 14.9957 17.9277 15.0009 17.763C15.0209 17.148 15.4489 16.538 16.1349 16.14C17.7061 15.2305 18.9334 13.8281 19.6266 12.1502C20.3199 10.4723 20.4403 8.61258 19.9692 6.8593C19.4981 5.10602 18.4619 3.55709 17.0211 2.45256C15.5803 1.34803 13.8154 0.749592 11.9999 0.75Z"
              fill="#CBCBCB"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M9.01303 19.8999C9.03139 19.8031 9.06865 19.7109 9.12267 19.6285C9.17668 19.5461 9.2464 19.4752 9.32785 19.4197C9.40929 19.3643 9.50086 19.3255 9.59732 19.3054C9.69378 19.2854 9.79324 19.2845 9.89003 19.3029C11.2842 19.5679 12.7158 19.5679 14.11 19.3029C14.208 19.2814 14.3093 19.2797 14.4079 19.298C14.5066 19.3162 14.6005 19.3541 14.6843 19.4093C14.768 19.4646 14.8398 19.536 14.8954 19.6195C14.951 19.703 14.9894 19.7968 15.0081 19.8953C15.0268 19.9939 15.0256 20.0952 15.0045 20.1933C14.9834 20.2913 14.9428 20.3842 14.8852 20.4663C14.8275 20.5484 14.754 20.6181 14.669 20.6713C14.5839 20.7245 14.4891 20.7601 14.39 20.7759C12.8108 21.0761 11.1892 21.0761 9.61003 20.7759C9.41475 20.7388 9.24218 20.6257 9.13024 20.4615C9.0183 20.2972 8.97614 20.0953 9.01303 19.8999ZM9.75403 22.3439C9.76426 22.246 9.7937 22.151 9.84065 22.0644C9.8876 21.9778 9.95115 21.9013 10.0277 21.8393C10.1042 21.7772 10.1922 21.7309 10.2866 21.7029C10.381 21.6748 10.4801 21.6657 10.578 21.6759C11.5235 21.7746 12.4766 21.7746 13.422 21.6759C13.52 21.6657 13.619 21.6748 13.7134 21.7029C13.8079 21.7309 13.8959 21.7773 13.9724 21.8393C14.0489 21.9013 14.1124 21.9778 14.1594 22.0644C14.2063 22.151 14.2358 22.246 14.246 22.3439C14.2563 22.4419 14.2471 22.5409 14.2191 22.6354C14.1911 22.7298 14.1447 22.8178 14.0827 22.8943C14.0207 22.9708 13.9442 23.0344 13.8576 23.0813C13.771 23.1283 13.676 23.1577 13.578 23.1679C12.529 23.2789 11.4711 23.2789 10.422 23.1679C10.3241 23.1577 10.2291 23.1283 10.1425 23.0813C10.0559 23.0344 9.97938 22.9708 9.91735 22.8943C9.85532 22.8178 9.80897 22.7298 9.78095 22.6354C9.75293 22.5409 9.74378 22.4419 9.75403 22.3439Z"
              fill="#7A7A7A"
            />
          </svg>
        </NavLink>
        <span className="pagetrack active"></span>
      </AppIcon>
      <AppIcon mouseX={mouseX}>
        <NavLink
          to={"/photography"}
          data-tooltip-id="footer-tooltip"
          data-tooltip-content="Photography"
          data-tooltip-place="top"
        >
          <svg
            width="inherit"
            height="inherit"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M9.778 21H14.222C17.343 21 18.904 21 20.025 20.265C20.5087 19.948 20.9253 19.5389 21.251 19.061C22 17.961 22 16.428 22 13.364C22 10.299 22 8.76705 21.251 7.66705C20.9253 7.18916 20.5087 6.78005 20.025 6.46305C19.305 5.99005 18.403 5.82105 17.022 5.76105C16.363 5.76105 15.796 5.27105 15.667 4.63605C15.5684 4.17092 15.3123 3.75408 14.9418 3.456C14.5714 3.15791 14.1095 2.99686 13.634 3.00005H10.366C9.378 3.00005 8.527 3.68505 8.333 4.63605C8.204 5.27105 7.637 5.76105 6.978 5.76105C5.598 5.82105 4.696 5.99105 3.975 6.46305C3.49162 6.78011 3.07537 7.18922 2.75 7.66705C2 8.76705 2 10.299 2 13.364C2 16.428 2 17.96 2.749 19.061C3.073 19.537 3.489 19.946 3.975 20.265C5.096 21 6.657 21 9.778 21Z"
              fill="#CBCBCB"
            />
            <path
              d="M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z"
              stroke="#7A7A7A"
              stroke-width="1.5"
            />
            <path
              d="M19 10H18"
              stroke="#7A7A7A"
              stroke-width="1.5"
              stroke-linecap="round"
            />
          </svg>
        </NavLink>
        <span className="pagetrack active"></span>
      </AppIcon>
      <hr />
      <AppIcon mouseX={mouseX}>
        <Link
          target="blank"
          to={"https://www.linkedin.com/in/hebinouri/"}
          data-tooltip-id="footer-tooltip"
          data-tooltip-content="Linkedin"
          data-tooltip-place="top"
        >
          <svg
            width="inherit"
            height="inherit"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M19 3C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19ZM18.5 18.5V13.2C18.5 12.3354 18.1565 11.5062 17.5452 10.8948C16.9338 10.2835 16.1046 9.94 15.24 9.94C14.39 9.94 13.4 10.46 12.92 11.24V10.13H10.13V18.5H12.92V13.57C12.92 12.8 13.54 12.17 14.31 12.17C14.6813 12.17 15.0374 12.3175 15.2999 12.5801C15.5625 12.8426 15.71 13.1987 15.71 13.57V18.5H18.5ZM6.88 8.56C7.32556 8.56 7.75288 8.383 8.06794 8.06794C8.383 7.75288 8.56 7.32556 8.56 6.88C8.56 5.95 7.81 5.19 6.88 5.19C6.43178 5.19 6.00193 5.36805 5.68499 5.68499C5.36805 6.00193 5.19 6.43178 5.19 6.88C5.19 7.81 5.95 8.56 6.88 8.56ZM8.27 18.5V10.13H5.5V18.5H8.27Z"
              fill="#7A7A7A"
            />
          </svg>
        </Link>
      </AppIcon>
      <AppIcon mouseX={mouseX}>
        <Link
          target="blank"
          to={"https://github.com/hebrahimnori"}
          data-tooltip-id="footer-tooltip"
          data-tooltip-content="Github"
          data-tooltip-place="top"
        >
          <svg
            width="inherit"
            height="inherit"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M12 2C10.6868 2 9.38642 2.25866 8.17317 2.7612C6.95991 3.26375 5.85752 4.00035 4.92893 4.92893C3.05357 6.8043 2 9.34784 2 12C2 16.42 4.87 20.17 8.84 21.5C9.34 21.58 9.5 21.27 9.5 21V19.31C6.73 19.91 6.14 17.97 6.14 17.97C5.68 16.81 5.03 16.5 5.03 16.5C4.12 15.88 5.1 15.9 5.1 15.9C6.1 15.97 6.63 16.93 6.63 16.93C7.5 18.45 8.97 18 9.54 17.76C9.63 17.11 9.89 16.67 10.17 16.42C7.95 16.17 5.62 15.31 5.62 11.5C5.62 10.39 6 9.5 6.65 8.79C6.55 8.54 6.2 7.5 6.75 6.15C6.75 6.15 7.59 5.88 9.5 7.17C10.29 6.95 11.15 6.84 12 6.84C12.85 6.84 13.71 6.95 14.5 7.17C16.41 5.88 17.25 6.15 17.25 6.15C17.8 7.5 17.45 8.54 17.35 8.79C18 9.5 18.38 10.39 18.38 11.5C18.38 15.32 16.04 16.16 13.81 16.41C14.17 16.72 14.5 17.33 14.5 18.26V21C14.5 21.27 14.66 21.59 15.17 21.5C19.14 20.16 22 16.42 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7362 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2Z"
              fill="#7A7A7A"
            />
          </svg>
        </Link>
      </AppIcon>
      <AppIcon mouseX={mouseX}>
        <Link
          to={"mailto:hebrahimnori@gmail.com"}
          data-tooltip-id="footer-tooltip"
          data-tooltip-content="Mail"
          data-tooltip-place="top"
        >
          <svg
            width="inherit"
            height="inherit"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M2.01581 13.4761C2.08081 16.5411 2.11381 18.0741 3.24481 19.2091C4.37581 20.3451 5.94981 20.3841 9.09881 20.4631C11.0388 20.5131 12.9608 20.5131 14.9008 20.4631C18.0498 20.3841 19.6238 20.3451 20.7548 19.2091C21.8858 18.0741 21.9188 16.5411 21.9848 13.4761C22.0048 12.4901 22.0048 11.5101 21.9848 10.5241C21.9188 7.45908 21.8858 5.92608 20.7548 4.79108C19.6238 3.65508 18.0498 3.61608 14.9008 3.53708C12.9671 3.48829 11.0325 3.48829 9.09881 3.53708C5.94981 3.61608 4.37581 3.65508 3.24481 4.79108C2.11381 5.92608 2.08081 7.45908 2.01481 10.5241C1.99376 11.508 1.99476 12.4922 2.01581 13.4761Z"
              fill="#CBCBCB"
            />
            <path
              d="M7 8.5L9.942 10.24C11.657 11.254 12.342 11.254 14.058 10.24L17 8.5"
              stroke="#7A7A7A"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </Link>
      </AppIcon>
      <hr />
      <AppIcon mouseX={mouseX}>
        <Link
          to={""}
          data-tooltip-id="footer-tooltip"
          data-tooltip-content="Toggle theme"
          data-tooltip-place="top"
        >
          <svg
            width="inherit"
            height="inherit"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M11.9999 19C12.2448 19 12.4812 19.09 12.6642 19.2527C12.8473 19.4155 12.9642 19.6397 12.9929 19.883L12.9999 20V21C12.9996 21.2549 12.902 21.5 12.727 21.6854C12.5521 21.8707 12.3129 21.9822 12.0585 21.9972C11.804 22.0121 11.5535 21.9293 11.358 21.7657C11.1626 21.6021 11.037 21.3701 11.0069 21.117L10.9999 21V20C10.9999 19.7348 11.1052 19.4804 11.2928 19.2929C11.4803 19.1054 11.7347 19 11.9999 19ZM18.3129 16.91L18.4069 16.993L19.1069 17.693C19.2862 17.873 19.3903 18.1144 19.3981 18.3684C19.4059 18.6223 19.3167 18.8697 19.1486 19.0603C18.9806 19.2508 18.7463 19.3703 18.4934 19.3944C18.2405 19.4185 17.9879 19.3454 17.7869 19.19L17.6929 19.107L16.9929 18.407C16.8203 18.2347 16.7166 18.0054 16.7013 17.762C16.686 17.5187 16.7602 17.2781 16.9098 17.0856C17.0595 16.8931 17.2743 16.7619 17.5139 16.7166C17.7535 16.6714 18.0013 16.7153 18.2109 16.84L18.3129 16.91ZM7.00687 16.993C7.17905 17.1652 7.28248 17.3943 7.29776 17.6373C7.31304 17.8803 7.23912 18.1206 7.08987 18.313L7.00687 18.407L6.30687 19.107C6.12691 19.2863 5.88543 19.3905 5.63148 19.3982C5.37754 19.406 5.13016 19.3168 4.93959 19.1488C4.74902 18.9807 4.62956 18.7464 4.60547 18.4935C4.58138 18.2406 4.65446 17.988 4.80987 17.787L4.89287 17.693L5.59287 16.993C5.7804 16.8055 6.0347 16.7002 6.29987 16.7002C6.56503 16.7002 6.81934 16.8055 7.00687 16.993ZM3.99987 11C4.25475 11.0003 4.4999 11.0979 4.68524 11.2728C4.87057 11.4478 4.9821 11.687 4.99704 11.9414C5.01198 12.1958 4.92919 12.4464 4.7656 12.6418C4.60201 12.8373 4.36996 12.9629 4.11687 12.993L3.99987 13H2.99987C2.74499 12.9997 2.49984 12.9021 2.3145 12.7272C2.12916 12.5522 2.01763 12.313 2.0027 12.0586C1.98776 11.8042 2.07054 11.5536 2.23413 11.3582C2.39772 11.1627 2.62977 11.0371 2.88287 11.007L2.99987 11H3.99987ZM20.9999 11C21.2547 11.0003 21.4999 11.0979 21.6852 11.2728C21.8706 11.4478 21.9821 11.687 21.997 11.9414C22.012 12.1958 21.9292 12.4464 21.7656 12.6418C21.602 12.8373 21.37 12.9629 21.1169 12.993L20.9999 13H19.9999C19.745 12.9997 19.4998 12.9021 19.3145 12.7272C19.1292 12.5522 19.0176 12.313 19.0027 12.0586C18.9878 11.8042 19.0705 11.5536 19.2341 11.3582C19.3977 11.1627 19.6298 11.0371 19.8829 11.007L19.9999 11H20.9999ZM6.21287 4.81L6.30687 4.893L7.00687 5.593C7.18622 5.77296 7.29034 6.01443 7.2981 6.26838C7.30585 6.52233 7.21665 6.76971 7.04862 6.96028C6.88059 7.15084 6.64632 7.27031 6.39339 7.2944C6.14047 7.31849 5.88786 7.24541 5.68687 7.09L5.59287 7.007L4.89287 6.307C4.72096 6.13468 4.6178 5.90557 4.60273 5.66263C4.58767 5.41969 4.66173 5.17959 4.81103 4.98735C4.96033 4.79511 5.17463 4.66393 5.41374 4.61839C5.65285 4.57285 5.90036 4.61609 6.10987 4.74L6.21287 4.81ZM19.1069 4.893C19.279 5.06519 19.3825 5.29429 19.3978 5.53732C19.413 5.78034 19.3391 6.0206 19.1899 6.213L19.1069 6.307L18.4069 7.007C18.2269 7.18635 17.9854 7.29047 17.7315 7.29823C17.4775 7.30598 17.2302 7.21678 17.0396 7.04875C16.849 6.88072 16.7296 6.64645 16.7055 6.39353C16.6814 6.1406 16.7545 5.88799 16.9099 5.687L16.9929 5.593L17.6929 4.893C17.8804 4.70553 18.1347 4.60021 18.3999 4.60021C18.665 4.60021 18.9193 4.70553 19.1069 4.893ZM11.9999 2C12.2448 2.00003 12.4812 2.08996 12.6642 2.25272C12.8473 2.41547 12.9642 2.63975 12.9929 2.883L12.9999 3V4C12.9996 4.25488 12.902 4.50003 12.727 4.68537C12.5521 4.8707 12.3129 4.98223 12.0585 4.99717C11.804 5.01211 11.5535 4.92933 11.358 4.76574C11.1626 4.60214 11.037 4.3701 11.0069 4.117L10.9999 4V3C10.9999 2.73478 11.1052 2.48043 11.2928 2.29289C11.4803 2.10536 11.7347 2 11.9999 2ZM11.9999 7C12.9795 6.99994 13.9377 7.28769 14.7552 7.8275C15.5727 8.36731 16.2137 9.1354 16.5984 10.0364C16.9832 10.9373 17.0948 11.9315 16.9193 12.8953C16.7439 13.8592 16.2892 14.7502 15.6117 15.4579C14.9342 16.1655 14.0637 16.6585 13.1084 16.8756C12.1531 17.0928 11.155 17.0245 10.2382 16.6793C9.32137 16.334 8.52616 15.7271 7.95133 14.9338C7.3765 14.1405 7.04739 13.1958 7.00487 12.217L6.99987 12L7.00487 11.783C7.06079 10.4958 7.61148 9.27978 8.54209 8.38866C9.47271 7.49754 10.7114 7.00007 11.9999 7Z"
              fill="#7A7A7A"
            />
          </svg>
        </Link>
      </AppIcon>
      <AppIcon mouseX={mouseX}>
        <Link
          to={""}
          data-tooltip-id="footer-tooltip"
          data-tooltip-content="Toggle sound"
          data-tooltip-place="top"
        >
          <svg
            width="inherit"
            height="inherit"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M3.15848 13.9299C2.80876 13.3469 2.62402 12.6798 2.62402 11.9999C2.62402 11.32 2.80876 10.6529 3.15848 10.0699C3.26602 9.89042 3.40992 9.73542 3.58093 9.61487C3.75195 9.49431 3.94629 9.41087 4.15148 9.3699L5.84448 9.0309C5.94544 9.01091 6.03651 8.95691 6.10248 8.8779L8.17048 6.3949C9.35248 4.9749 9.94448 4.2659 10.4715 4.4569C11.0005 4.6479 11.0005 5.5719 11.0005 7.4199V16.5819C11.0005 18.4289 11.0005 19.3519 10.4725 19.5439C9.94548 19.7339 9.35348 19.0249 8.17148 17.6059L6.10048 15.1219C6.03476 15.0431 5.94408 14.9891 5.84348 14.9689L4.15048 14.6299C3.94529 14.5889 3.75095 14.5055 3.57993 14.3849C3.40892 14.2644 3.26602 14.1094 3.15848 13.9299Z"
              fill="#7A7A7A"
              stroke="#7A7A7A"
              stroke-width="2"
            />
            <path
              d="M15.5361 8.46402C16.4692 9.39701 16.9956 10.661 17.0006 11.9805C17.0057 13.2999 16.489 14.5679 15.5631 15.508M19.6571 6.34302C21.15 7.83568 21.9923 9.8579 22.0005 11.969C22.0088 14.08 21.1823 16.1087 19.7011 17.613"
              stroke="#7A7A7A"
              stroke-width="2"
              stroke-linecap="round"
            />
          </svg>
        </Link>
      </AppIcon>
      <Tooltip
        id="footer-tooltip"
        style={{
          borderRadius: "10px",
          fontSize: "12px",
          padding: "6px 12px",
          backgroundColor: "white",
          color: "#7A7A7A",
        }}
        border="1px solid #7A7A7A"
      />
    </motion.div>
  );
}

function AppIcon({ mouseX, children }) {
  const ref = useRef(null);
  const [isBouncing, setIsBouncing] = useState(false);

  const handleClick = () => {
    setIsBouncing(true);
    setTimeout(() => setIsBouncing(false), 1000);
  };

  const distance = useTransform(mouseX, (val) => {
    const bounds = ref.current?.getBoundingClientRect() ?? { x: 0, width: 0 };
    return val - bounds.x - bounds.width / 2;
  });

  const widthSync = useTransform(distance, [-150, 0, 150], [40, 80, 40]);
  const width = useSpring(widthSync, {
    mass: 0.1,
    stiffness: 150,
    damping: 12,
  });

  return (
    <motion.div
      ref={ref}
      style={{ width }}
      className={`aspect-square w-10 rounded-full linksBtn ${
        isBouncing ? "bounce" : ""
      }`}
      onClick={handleClick}
    >
      {children}
    </motion.div>
  );
}

export default Dock;
